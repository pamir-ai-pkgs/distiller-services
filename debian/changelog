distiller-cm5-services (2.1.0) unstable; urgency=medium

  [ utsavbalar1231 ]
  * fix(debian): Add dnsmasq to package dependencies
  * fix(pyproject.toml): Remove unused dev dependencies
  * chore(debian): Add multiplatform distiller-sdk to dependencies
  * chore(debian): simplify hostname updation on build environments
  * refactor(scripts): rewrite hostname update script
  * chore(debian): improve packaging scripts error handling and logging
  * chore: Update linting configuration and dev dependencies

 -- PamirAI Incorporated <founders@pamir.ai>  Sat, 27 Sep 2025 00:55:29 +0530

distiller-cm5-services (2.0.2) unstable; urgency=medium

  [ UtsavBalar1231 ]
  * fix(ui): use case-sensitive font for network names and passwords
  * fix(display): add missing port 8080 to e-ink WiFi setup URL

  [ Kevin Zhang ]
  * (chore) changed wifi setup eink ui layout

  [ utsavbalar1231 ]
  * feat: Introduce a Wi-Fi captive portal access
  * chore: Tidy up
  * chore(tunnel_service): Hardcode 3000 as web_port for pinggy_tunnel
  * fix(device_config): preserve existing hostname on reinstall
  * fix(display_service): rollback SDK version to v0.1.0
  * fix(display_service): Release eink display after displaying image

  [ TianqiYe ]
  * turn off captive for stable 1
  * updated defualt tunnel screen

  [ utsavbalar1231 ]
  * feat: Introduce dynamic template rendering using UI-generated templates

  [ TianqiYe ]
  * fix(display): prevent stale tunnel URLs on restart

  [ utsavbalar1231 ]
  * feat: add MAC-based hostname synchronization
  * refactor(display): Fix portrait orientation
  * chore(display_screens): Improve setup page layout
  * fix(display_service): Re-init eink display if required during _send_to_display
  * chore(display_service): Add required transformations for TemplateRenderer image
  * Parital Revert: chore(display_screens): Improve setup page layout
  * build-deb: Relax dependencies
  * fix(network): correctly detect AP mode vs regular network connections
  * fix(startup): clean up existing AP mode on service restart
  * fix(ui): prevent connection loss error during network transition
  * fix(web_server): add missing device_name parameter to connecting template

  [ Distiller Dev ]
  * feat(tunnel): implement FRP-first tunnel service with Pinggy fallback

  [ utsavbalar1231 ]
  * feat(ui): add manual network connection
  * refactor(debian): update for modern debian packaging
  * feat(tooling): add comprehensive frontend linting and formatting infrastructure
  * fix(ci): dynamically detect package name and update action versions
  * chore(display_theme): reduce qr code size
  * chore: Remove unused uv.lock file

 -- PamirAI Incorporated <support@pamir.ai>  Fri, 05 Sep 2025 08:53:19 +0000

distiller-cm5-services (2.0.1) unstable; urgency=medium

  [ utsavbalar1231 ]
  * feat: Add github workflows for release and dependencies
  * chore: Remove unused directories
  * fix(debian): Remove unused files and directories
  * fix(debian): Resolve dependencies
  * chore(pyproject.toml): Add pyright configuration
  * fix(display_service): Resolve invalid usage of state_manager
  * feat(web_server): Migrate from pydantic V1 to pydantic V2
  * fix(core): Resolve some pyright warnings
  * chore(dev.sh): Consolidate lint.sh inside dev.sh
  * docs: Sync with the codebase
  * chore(network_manager): Remove `wifi-` from network connection names
  * chore(debian): Use any for architecture
  * chore(display_service): Remove unused show_message
  * chore(config): Add common method to generate ap password
  * chore: Remove unused variables and arguments
  * chore(services): Use default max_retries and retry_delay from settings
  * chore: Resolve imports usage
  * chore(core): Rework hosts file updation logic
  * feat(core): Add support for reconnection to saved network
  * chore(debian): Remove unused python3:Depends
  * fix(tunnel_service): Correct url_patterns for capturing pinggy tunnel links
  * feat(services): Refactor eink display screens UI
  * feat(static): Use Monorama NerdFont for web page
  * chore: Run lint checks
  * fix(display_service): Use correct font path
  * chore(debian): Make packaging production ready
  * chore(tunnel_service): Relax the wait timings for tunnel start
  * fix(device_config): Resolve permissions for hosts file updation
  * fix(network_manager): Always check connection profile before starting AP mode
  * fix(services): Revert back eink display size to 128x250
  * docs: Sync CLAUDE.md
  * fix(security): prevent TOCTOU attacks in hosts file updates
  * fix(security): sanitize SSID input to prevent command injection
  * fix(security): secure backup file permissions and management
  * fix(security): validate NetworkManager profiles before use
  * fix(security): add strict hostname validation for hosts file
  * fix: always verify and update system config on service restart
  * refactor(mdns): Replace Zeroconf with Avahi service files
  * feat(setup): Add password show/hide toggle
  * fix(display_service): Always use full refresh mode for eink display
  * chore(connecting): Enhance animations
  * feat: Add support for persistent pinggy tunnel url
  * chore(build-deb.sh): Remove changelog version updation logic
  * chore(debian): Set minimum version requirement for distiller-cm5-sdk

 -- PamirAI Incorporated <founders@pamir.ai>  Wed, 13 Aug 2025 23:42:44 +0530

distiller-cm5-services (2.0.0) unstable; urgency=medium

  * Major refactoring to modern async Python architecture
  * Single unified service instead of four separate services
  * FastAPI with WebSocket support for real-time updates
  * Persistent mDNS during network transitions
  * Always starts in AP mode for easy setup
  * Seamless AP to client mode transitions
  * Session management across network changes
  
  * UI/UX Improvements:
    - Complete UI redesign with clean monochrome e-ink inspired aesthetic
    - Removed all ASCII art from templates for cleaner presentation
    - Added custom MartianMono font support for both web and e-ink display
    - Updated all templates with modern card-based layouts
    - Added sophisticated CSS checkmark animation for status page
    - Added geometric patterns and visual elements for e-ink aesthetic
    - Improved UI consistency across all pages
  
  * E-ink Display Integration:
    - Integrated e-ink SDK with proper 128x250 display layouts
    - Created four distinct e-ink display modes with QR codes
    - Improved font path detection for development and production environments
  
  * Network & Connectivity:
    - Fixed missing /status route causing 404 after successful connection
    - Enhanced mDNS hostname registration with Avahi cache clearing
    - Fixed mDNS hostname issue by restarting Avahi daemon after configuration
    - Fixed device identity persistence across restarts
    - Fixed AP mode network scanning issue
    - Added system hostname and /etc/hosts configuration
  
  * Pinggy Tunnel Service:
    - Fixed Pinggy tunnel to generate unique random URLs (using pinggy.io not a.pinggy.io)
    - Improved SSH tunnel resilience with retry logic
    - Added tunnel rotation every 55 minutes (before 1 hour expiry)
    - Fixed tunnel process to prevent interactive password prompts
    - Added local port forwarding for debugger API (4300)
    - Enhanced tunnel URL display with access instructions
  
  * System Improvements:
    - Added file logging with rotation to /var/log/distiller/
    - Improved logging configuration with debug mode support
    - Removed all legacy code and dependencies
    - Simplified Debian packaging
    - Removed all test/development flags (--no-hardware, --no-tunnel)
    - Suppressed invalid HTTP request warnings from mDNS
    - Service now requires root privileges exclusively

 -- PamirAI Incorporated <support@pamir.ai>  Sun, 10 Aug 2025 21:00:00 +0000

distiller-cm5-services (1.2.0) unstable; urgency=medium

  * Fix Debian Bookworm compatibility issues
  * Remove unavailable Python packages from system dependencies
  * Use virtual environment for Python dependencies installation
  * Create wrapper scripts for better dependency management
  * Update systemd service files to use wrapper scripts
  * Improve package removal cleanup for virtual environment

 -- PamirAI Incorporated <support@pamir.ai>  Thu, 03 Jul 2025 00:00:00 +0000

distiller-cm5-services (0.0.1) unstable; urgency=medium

  * Initial release
  * WiFi setup service with web interface
  * E-ink display integration
  * mDNS service discovery
  * SSH tunnel management via Pinggy
  * Systemd service integration

 -- PamirAI Incorporated <support@pamir.ai>  Thu, 03 Jun 2025 00:00:00 +0000 
