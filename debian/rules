#!/usr/bin/make -f

export DEB_BUILD_MAINT_OPTIONS = hardening=+all
export PYBUILD_NAME=distiller-services

%:
	dh $@

override_dh_auto_build:
	# No build step needed
	true

override_dh_auto_test:
	# Skip tests during package build
	true

override_dh_installsystemd:
	dh_installsystemd --name=distiller-wifi

override_dh_fixperms:
	dh_fixperms
	# Make all shell scripts executable
	-find debian/distiller-services/usr/share/distiller-services/scripts -name "*.sh" -exec chmod +x {} \;
	# Ensure Python source files have correct permissions
	-find debian/distiller-services/usr/lib/distiller-services/src -type f -name "*.py" -exec chmod 644 {} \;
